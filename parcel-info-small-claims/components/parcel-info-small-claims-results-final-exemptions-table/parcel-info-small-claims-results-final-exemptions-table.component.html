<div class="divider-title">Exemptions Requested</div>

<div *ngLet="selectedParcelExemptionId$ | async as selectedParcelExemptionId" class="mat-table-box">
  <table mat-table [dataSource]="finalExemptions$ | async">
    <ng-container matColumnDef="exemptionCode">
      <th mat-header-cell *matHeaderCellDef>Code</th>
      <td mat-cell *matCellDef="let element">{{ element.exemptionCode }}</td>
    </ng-container>

    <ng-container matColumnDef="amount">
      <th mat-header-cell *matHeaderCellDef>Amount</th>
      <td mat-cell *matCellDef="let element">{{ element.amount }}</td>
    </ng-container>

    <ng-container matColumnDef="percent">
      <th mat-header-cell *matHeaderCellDef>Percent</th>
      <td mat-cell *matCellDef="let element">{{ element.percent }}</td>
    </ng-container>

    <ng-container matColumnDef="result">
      <th mat-header-cell *matHeaderCellDef>Result</th>
      <td mat-cell *matCellDef="let element">{{ element.result }}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
    <tr
      mat-row
      *matRowDef="let row; columns: displayedColumns"
      (click)="onSelectFinalExemption(row.parcelExemptionId, selectedParcelExemptionId)"
      [ngClass]="{ active: row.isActive }"
    ></tr>
    <pas-no-table-data *matNoDataRow>No Records</pas-no-table-data>
  </table>
</div>
