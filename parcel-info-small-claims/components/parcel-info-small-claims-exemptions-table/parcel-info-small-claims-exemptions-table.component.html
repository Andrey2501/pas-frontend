<div class="divider-title">Current Exemptions</div>

<div class="mat-table-box">
  <table
    *ngIf="isLoaded$ | async"
    mat-table
    matSort
    [matSortActive]="sortActive$ | async"
    [matSortDirection]="sortDirection$ | async"
    (matSortChange)="onSortChange($event)"
    [dataSource]="dataSource$ | async"
  >
    <ng-container matColumnDef="exemptionCode">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Code</th>
      <td mat-cell *matCellDef="let element">{{ element.exemptionCode }}</td>
    </ng-container>

    <ng-container matColumnDef="amount">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Amount</th>
      <td mat-cell *matCellDef="let element">{{ element.amount | money }}</td>
    </ng-container>

    <ng-container matColumnDef="percent">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Percentage</th>
      <td mat-cell *matCellDef="let element">{{ element.percent | percentage }}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
    <tr [ngClass]="{ revoked: row.isRevoked }" mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    <pas-no-table-data *matNoDataRow>NO RECORDS</pas-no-table-data>
  </table>
</div>
